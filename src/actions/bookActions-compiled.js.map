{"version":3,"sources":["bookActions.js"],"names":[],"mappings":"AAAA;;;;;QAQgB;QAIA;QAMA;QAIA;QAIA;QAIA;QAWA;;AAvChB;;IAAY;;AACZ;;IAAY;;AACZ;;;;AACA;;AACA;;IAAY;;;;;;AAEL,SAAS,UAAT,CAAoB,IAApB,EAA0B;AAC/B,SAAO,EAAE,MAAM,MAAM,WAAN,EAAkB,SAAQ,IAAR,EAAjC,CAD+B;CAA1B;;AAIA,SAAS,gBAAT,CAA0B,KAA1B,EAAiC;AACtC,UAAQ,GAAR,CAAY,mBAAZ,EAAgC,KAAhC,EADsC;AAEtC,UAAQ,GAAR,CAAY,YAAZ,EAAyB,0BAAU,KAAV,EAAgB,OAAO,YAAP,CAAzC,EAFsC;AAGtC,SAAO,EAAE,MAAM,MAAM,kBAAN,EAAyB,UAAS,0BAAU,KAAV,EAAgB,OAAO,YAAP,CAAzB,EAAxC,CAHsC;CAAjC;;AAMA,SAAS,gBAAT,CAA0B,KAA1B,EAAiC;AACtC,SAAO,EAAE,MAAM,MAAM,kBAAN,EAAyB,SAAQ,KAAR,EAAxC,CADsC;CAAjC;;AAIA,SAAS,kBAAT,CAA4B,IAA5B,EAAkC;AACvC,SAAO,EAAE,MAAM,MAAM,sBAAN,EAA6B,SAAQ,IAAR,EAA5C,CADuC;CAAlC;;AAIA,SAAS,kBAAT,CAA4B,KAA5B,EAAmC;AACxC,SAAO,EAAE,MAAM,MAAM,sBAAN,EAA6B,SAAQ,KAAR,EAA5C,CADwC;CAAnC;;AAIA,SAAS,SAAT,GAAoB;AACzB,cAAY,aAAZ,GADyB;AAEzB,SAAO,UAAS,QAAT,EAAkB;AACvB,WAAO,mBAAQ,WAAR,GAAsB,IAAtB,CAA2B,UAAC,KAAD,EAAS;AACzC,eAAS,iBAAiB,KAAjB,CAAT,EADyC;KAAT,EAEhC,UAAC,KAAD,EAAS;AACT,eAAS,iBAAiB,KAAjB,CAAT,EADS;KAAT,CAFF,CADuB;GAAlB,CAFkB;CAApB;;AAWA,SAAS,WAAT,CAAqB,MAArB,EAA4B;AACjC,SAAO,UAAS,QAAT,EAAkB;AACvB,WAAO,mBAAQ,WAAR,CAAoB,MAApB,EAA4B,IAA5B,CAAiC,UAAC,IAAD,EAAQ;AAC9C,eAAS,mBAAmB,IAAnB,CAAT,EAD8C;KAAR,EAEtC,UAAC,KAAD,EAAS;AACT,eAAS,mBAAmB,KAAnB,CAAT,EADS;KAAT,CAFF,CADuB;GAAlB,CAD0B;CAA5B","file":"bookActions-compiled.js","sourcesContent":["'use strict';\n\nimport * as types from './actionTypes';\nimport * as ajaxActions from './ajaxActions';\nimport bookApi from '../api/mockBook';\nimport {normalize} from 'normalizr';\nimport * as schema from '../schemas/bookSchema';\n\nexport function selectBook(book) {\n  return { type: types.SELECT_BOOK,payload:book };\n}\n\nexport function loadBooksSuccess(books) {\n  console.log(\"Without normalizr\",books);\n  console.log('Normalized',normalize(books,schema.arrayOfBooks));\n  return { type: types.LOAD_BOOKS_SUCCESS,response:normalize(books,schema.arrayOfBooks)};\n}\n\nexport function loadBooksFailure(error) {\n  return { type: types.LOAD_BOOKS_FAILURE,payload:error};\n}\n\nexport function getBookByIdSuccess(book) {\n  return { type: types.GET_BOOK_BY_ID_SUCCESS,payload:book};\n}\n\nexport function getBookByIdFailure(error) {\n  return { type: types.GET_BOOK_BY_ID_FAILURE,payload:error};\n}\n\nexport function loadBooks(){\n  ajaxActions.beginAjaxCall();\n  return function(dispatch){\n    return bookApi.getAllBooks().then((books)=>{\n      dispatch(loadBooksSuccess(books))\n    },(error)=>{\n      dispatch(loadBooksFailure(error))\n    })\n  }\n}\n\nexport function getBookById(bookId){\n  return function(dispatch){\n    return bookApi.getBookById(bookId).then((book)=>{\n      dispatch(getBookByIdSuccess(book))\n    },(error)=>{\n      dispatch(getBookByIdFailure(error))\n    })\n  }\n}\n\n\n\n\n\n\n"]}